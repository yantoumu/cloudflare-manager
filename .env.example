# ============================================
# Cloudflare Workers Manager - 环境配置
# ============================================
# 使用说明:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 生成 JWT_SECRET: openssl rand -base64 32
# 3. 填写 JWT_SECRET 到下方配置
# 4. (可选) 修改端口号避免冲突
# ============================================

# ============================================
# 安全配置 (CRITICAL - 必须配置!)
# ============================================

# JWT 签名密钥 - 必填！至少 32 字符
# ⚠️  生产环境必须使用强随机密钥，否则应用启动失败
#
# 生成方法（选一种）:
#   方法1: openssl rand -base64 32
#   方法2: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#   方法3: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
#
# 示例输出: JcATswT81oGHE9nsrBOv6DqA73qhLGGpe8NfjBg+xJk=
#
JWT_SECRET=

# (可选) 独立的数据加密密钥
# 如果不设置,将自动从 JWT_SECRET 派生加密密钥
# 用于加密数据库中的 Cloudflare API Token、Email、Key 等敏感字段
# 生成方法: openssl rand -base64 32
# ENCRYPTION_KEY=

# ============================================
# 服务器端口配置
# ============================================

# 宿主机端口（Docker 对外暴露的端口）
# 如果 3000 端口被占用，可以改为其他端口，如: 8080, 8888, 9000
# ⚠️  修改后需要同步更新 Nginx 配置中的 proxy_pass 端口
# 默认: 3000
HOST_PORT=3000

# 容器内端口（通常不需要修改）
# PORT=3000

# ============================================
# 数据库配置
# ============================================

# SQLite数据库文件路径
# Docker部署时由docker-compose.yml管理,本地开发可使用相对路径
# 默认: ./data.db (本地) 或 /app/data/data.db (Docker)
# DB_PATH=./data.db

# ============================================
# 运行环境配置
# ============================================

# 运行环境
# 可选值: development | production
# 生产环境(production)会自动禁用 DEBUG_CF_API
NODE_ENV=production

# 调试Cloudflare API请求
# 启用后会在终端输出所有API请求和响应(敏感信息会被脱敏)
# 注意: 生产环境(NODE_ENV=production)会强制禁用此功能
# 可选值: true | false
DEBUG_CF_API=false

# ============================================
# CORS配置
# ============================================

# 前端访问地址
# Docker部署时应设置为实际的前端URL
# CLIENT_URL=http://localhost:5173
